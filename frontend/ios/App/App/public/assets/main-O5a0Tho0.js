import{B as n}from"./AddressSelection-CWIIN_Gi.js";import"./contributors-DrZ1xbbi.js";class a{constructor(){this.form=document.getElementById("contact-form"),this.init()}init(){this.form&&this.form.addEventListener("submit",e=>this.handleSubmit(e))}async handleSubmit(e){e.preventDefault();const t=new FormData(this.form),r={name:t.get("name")||document.getElementById("name").value,email:t.get("email")||document.getElementById("email").value,message:t.get("message")||document.getElementById("message").value};if(this.validateForm(r)){this.showLoading();try{const s=await fetch(`${n}/contact/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),i=await s.json();s.ok?(this.showSuccess(i.message),this.form.reset()):this.showError(i.error||"Failed to send message")}catch(s){console.error("Error sending contact form:",s),this.showError("Network error. Please try again.")}finally{this.hideLoading()}}}validateForm(e){return!e.name||e.name.trim().length<2?(this.showError("Please enter a valid name (at least 2 characters)"),!1):!e.email||!this.isValidEmail(e.email)?(this.showError("Please enter a valid email address"),!1):!e.message||e.message.trim().length<10?(this.showError("Please enter a message (at least 10 characters)"),!1):!0}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}showLoading(){const e=this.form.querySelector('button[type="submit"]');e&&(e.disabled=!0,e.innerHTML='<i class="ri-loader-4-line animate-spin mr-2"></i>Sending...')}hideLoading(){const e=this.form.querySelector('button[type="submit"]');e&&(e.disabled=!1,e.innerHTML="Send")}showSuccess(e){this.showMessage(e,"success")}showError(e){this.showMessage(e,"error")}showMessage(e,t){const r=document.querySelector(".contact-message");r&&r.remove();const s=document.createElement("div");s.className=`contact-message fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 max-w-sm ${t==="success"?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}`,s.innerHTML=`
      <div class="flex items-center">
        <i class="ri-${t==="success"?"check-line":"error-warning-line"} mr-2"></i>
        <span>${e}</span>
      </div>
    `,document.body.appendChild(s),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}}document.addEventListener("DOMContentLoaded",()=>{new a});
